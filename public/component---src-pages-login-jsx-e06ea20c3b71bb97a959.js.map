{"version":3,"sources":["webpack:///./src/components/Login/Login.js","webpack:///./src/pages/login.jsx"],"names":["Login","useEffect","checkSession","then","hasSession","navigate","window","location","replace","React","createElement","id","onSubmit","e","async","preventDefault","formData","FormData","append","target","elements","username","value","password","login","submitForm","InterpolLogo","type","placeholder","className","LoginPage","NoSSR","SEO","title","Head"],"mappings":"oPA4CeA,MAtCDA,KAeVC,oBAAU,KACNC,YAAa,WAAWC,KAAKC,IAEzBA,GAAcC,mBAAS,gBAE3BH,YAAa,UAAUC,KAAKC,IAExBA,GAAcE,OAAOC,SAASC,QAAQ,uCAE3C,IAGCC,IAAAC,cAAA,OAAKC,GAAG,gBACJF,IAAAC,cAAA,QAAMC,GAAG,YAAYC,SAAWC,IA1BrBC,WACfD,EAAEE,iBACF,MAAMC,EAAW,IAAIC,SACrBD,EAASE,OAAO,WAAYL,EAAEM,OAAOC,SAASC,SAASC,OACvDN,EAASE,OAAO,WAAYL,EAAEM,OAAOC,SAASG,SAASD,aAEhCE,YAAMR,IAEzBX,mBAAS,eAkB+BoB,CAAWZ,KAC/CJ,IAAAC,cAACgB,IAAY,MACbjB,IAAAC,cAAA,SAAOiB,KAAK,OAAOhB,GAAG,WAAWiB,YAAY,oBAC7CnB,IAAAC,cAAA,SAAOiB,KAAK,WAAWhB,GAAG,WAAWiB,YAAY,eACjDnB,IAAAC,cAAA,UAAQiB,KAAK,SAASE,UAAU,OAAMpB,IAAAC,cAAA,YAAM,gB,YCT7CoB,UAtBGA,KAGd7B,oBAAU,KACNC,YAAa,WAAWC,KAAKC,IAEzBA,GAAcC,mBAAS,gBAE3BH,YAAa,UAAUC,KAAKC,IAExBA,GAAcE,OAAOC,SAASC,QAAQ,uCAE3C,IAGCC,IAAAC,cAACqB,IAAK,KACFtB,IAAAC,cAACsB,IAAG,CAACC,MAAM,UACXxB,IAAAC,cAACV,EAAK,QAOX,MAAMkC,EAAOA,IAAMzB,IAAAC,cAAA,aAAO","file":"component---src-pages-login-jsx-e06ea20c3b71bb97a959.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport { navigate } from \"@reach/router\";\nimport { checkSession, login } from \"./../../helpers/data/dataLayer\";\nimport InterpolLogo from \"./../../assets/icons/InterpolLogo\";\nimport \"./Login.css\";\n\nconst Login = () => {\n    // LDAP login form\n    const submitForm = async (e) => {\n        e.preventDefault();\n        const formData = new FormData();\n        formData.append('username', e.target.elements.username.value);\n        formData.append('password', e.target.elements.password.value);\n        \n        const loggedIn = await login(formData);\n        if (loggedIn) {\n            navigate('/dashboard');\n        }\n    }\n\n    // Check if user is logged in as student or teacher\n    useEffect(() => {\n        checkSession(\"STUDENT\").then(hasSession => {\n            // if student, go to dashboard\n            hasSession && navigate('/dashboard');\n        });\n        checkSession(\"DOCENT\").then(hasSession => {\n            // if teacher, go to admin panel\n            hasSession && window.location.replace(\"https://admin.interpol.sd-lab.nl\");\n        });\n    }, []);\n\n    return (\n        <div id=\"loginWrapper\">            \n            <form id=\"loginForm\" onSubmit={(e) => { submitForm(e) }}>\n                <InterpolLogo />\n                <input type=\"text\" id=\"username\" placeholder=\"Studentennummer\" />\n                <input type=\"password\" id=\"password\" placeholder=\"Wachtwoord\" />\n                <button type=\"submit\" className=\"btn\"><span>Inloggen</span></button>\n            </form>\n        </div>\n    );\n}\n\nexport default Login;","import React, { useEffect } from 'react';\nimport { navigate } from \"@reach/router\";\nimport NoSSR from '../components/NoSSR/NoSSR';\nimport { checkSession } from \"./../helpers/data/dataLayer\";\nimport Login from \"../components/Login/Login\";\nimport SEO from \"../components/SEO\";\n\nconst LoginPage = () => {\n\n    // Check if user is logged in as student or teacher\n    useEffect(() => {\n        checkSession(\"STUDENT\").then(hasSession => {\n            // if student, go to dashboard\n            hasSession && navigate('/dashboard');\n        });\n        checkSession(\"DOCENT\").then(hasSession => {\n            // if teacher, go to admin panel\n            hasSession && window.location.replace(\"https://admin.interpol.sd-lab.nl\");\n        });\n    }, []);\n\n    return (\n        <NoSSR>\n            <SEO title=\"Login\" />\n            <Login />\n        </NoSSR>\n    );\n}\n\nexport default LoginPage;\n\nexport const Head = () => <title>Interpol - Login</title>"],"sourceRoot":""}